# 
# 3. ğŸ§¬ Effect Hook

Effect Hook, ì¦‰ `useEffect()`ë¥¼ ì‚¬ìš©í•˜ë©´ í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œ side effectë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.

**side effectë€?** ë°ì´í„° ê°€ì ¸ì˜¤ê¸°, ìˆ˜ë™ìœ¼ë¡œ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ DOM ìˆ˜ì •í•˜ê¸° ë“±ì˜ ê¸°ëŠ¥ë“¤ì„ side effectë¼ê³  ë¶€ë¥¸ë‹¤.

> ë¦¬ì•¡íŠ¸ì˜ class ìƒëª…ì£¼ê¸° ë©”ì„œë“œì— ì¹œìˆ™í•˜ë‹¤ë©´, useEffect Hookì„ `componentDidMount`ì™€ `componentDidUpdate`, `componentWillUnmount`ê°€ í•©ì³ì§„ ê²ƒìœ¼ë¡œ ìƒê°í•˜ë©´ ì¢‹ë‹¤.

ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ì˜ side effectëŠ” ë‘ ì¢…ë¥˜ê°€ ìˆë‹¤.

- **ì •ë¦¬ê°€ í•„ìš”ì—†ëŠ” Effects :**  ì‹¤í–‰ ì´í›„ ì‹ ê²½ ì“¸ ê²ƒì´ ì—†ëŠ” ê²½ìš°
- **ì •ë¦¬ê°€ í•„ìš”í•œ Effects :** êµ¬ë…, í•´ì§€ì™€ ê°™ì´ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ê°€ ë°œìƒí•˜ì§€ ì•Šë„ë¡ ì •ë¦¬í•´ì•¼ í•˜ëŠ” ê²½ìš°

## ì •ë¦¬ê°€ í•„ìš” ì—†ëŠ” Effects
---
ë§ˆìš´íŠ¸ ë  ë•Œë§ˆë‹¤ ì‹¤í–‰í•˜ê³  ì‹¶ì€ ì½”ë“œê°€ ìˆë‹¤ê³  ê°€ì •í•˜ì.

ë§Œì•½ í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ë¡œ ì‘ì„±í•œë‹¤ë©´ ë‘ êµ°ë°ì— ê°™ì€ ì½”ë“œë¥¼ ì‘ì„±í•´ì•¼í•œë‹¤.

- componentDidMount
- componentDidUpdate

í•˜ì§€ë§Œ Hookì„ ì‚¬ìš©í•˜ë©´ ì´ëŸ° ì¤‘ë³µì„ ì—†ì•¨ ìˆ˜ ìˆë‹¤.
```js
import React, { useState, useEffect } from 'react';

function Example() {
    const [count, setCount] = useState(0);

    useEffect(() => {
        document.title = `You clicked ${count} times`;
    });

    return (
        <div>
            <p>You clicked {count} times</p>
            <button onClick={() => setCount(count + 1)}>
            Click me
            </button>
        </div>
    );
}
```
ì½”ë“œë¥¼ ì¢€ ë” ìì„¸íˆ ë“¤ì—¬ë‹¤ë³´ì.

1. useEffectì˜ ì—­í• ì€?

    useEffect ì¸ìë¡œ **í•¨ìˆ˜**ë¥¼ ë„˜ê¸´ë‹¤. ì´ í•¨ìˆ˜ëŠ” ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ ì´í›„ì— ì–´ë–¤ ì¼ì„ ìˆ˜í–‰í•˜ëŠ”ì§€ë¥¼ ë§í•´ì¤€ë‹¤. ì´ í•¨ìˆ˜ë¥¼ Effect ë¼ê³  ë¶€ë¥¸ë‹¤.

2. useEffectë¥¼ ì»´í¬ë„ŒíŠ¸ ì•ˆì—ì„œ ë¶ˆëŸ¬ë‚´ëŠ” ì´ìœ ëŠ”?

    ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— ë‘ ìœ¼ë¡œì¨, stateì™€ propì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.

3. useEffectëŠ” ë§¤ ëœë”ë§ë§ˆë‹¤ ì‹¤í–‰ë˜ëŠ”ê±´ê°€?

    ë§ë‹¤. ì²«ë²ˆì§¸ ë Œë”ë§ê³¼ ëª¨ë“  ì—…ë°ì´íŠ¸ë§ˆë‹¤ ì‹¤í–‰ì´ ëœë‹¤. ë¬¼ë¡  í•„ìš”ì— ë§ê²Œ, ì˜ˆë¥¼ë“¤ì–´ íŠ¹ì • state ë³€ê²½ì—ë§Œ ì‹¤í–‰ë˜ë„ë¡ ìˆ˜ì •í•˜ëŠ” ë°©ë²•ë„ ìˆë‹¤. 
    ```js
    useEffect(() => {
        document.title = `You clicked ${count} times`;
    }, [count]); // countê°€ ë°”ë€” ë•Œë§Œ effectë¥¼ ì¬ì‹¤í–‰
    ```

    í˜¹ì€ ë§ˆìš´íŠ¸ì™€ ë§ˆìš´íŠ¸ í•´ì œ ì‹œì— ë”± í•œ ë²ˆì”©ë§Œ ì‹¤í–‰í•˜ê³  ì‹¶ë‹¤ë©´   

    ```js
    useEffect(() => {
        // do somethin()
    }, []); // ë¹ˆ ë°°ì—´ì„ ë„˜ê¹€
    ```
4. ëª¨ë“  ëœë”ë§ë§ˆë‹¤ useEffectì— ë‹¤ë¥¸ í•¨ìˆ˜ê°€ ì „ë‹¬ë˜ëŠ”ê±´ê°€?

    ë§ë‹¤. ì´ëŠ” ì˜ë„ëœ ê²ƒìœ¼ë¡œì„œ, ê°ê°ì˜ effectê°€ íŠ¹ì •í•œ ë Œë”ë§ì— ì†í•˜ë„ë¡ í•´ ìœ ìš©í•˜ë‹¤. ì˜ˆë¥¼ë“¤ì–´ stateê°€ ì—…ë°ì´íŠ¸ ë˜ì—ˆëŠ”ì§€ì— ëŒ€í•œ ê±±ì • ì—†ì´ ë‚´ë¶€ì—ì„œ ê·¸ ê°’ì„ ì½ì„ ìˆ˜ ìˆë‹¤.

> `componentDidMount` í˜¹ì€ `componentDidUpdate`ì™€ëŠ” ë‹¬ë¦¬ `useEffect`ëŠ” **ë¹„ë™ê¸°**ë¡œ ì‹¤í–‰ëœë‹¤. ì¦‰, ë¸Œë¼ìš°ì €ê°€ í™”ë©´ì„ ì—…ë°ì´íŠ¸í•˜ëŠ” ê²ƒì„ ì°¨ë‹¨í•˜ì§€ ì•ŠëŠ”ë‹¤. ë§Œì¼ ë ˆì´ì•„ì›ƒì˜ ì¸¡ì •ê³¼ ê°™ì€ ë™ê¸°ì  ì‹¤í–‰ì´ í•„ìš”í•˜ë‹¤ë©´ **useLayoutEffect**ë¼ëŠ” ë³„ë„ì˜ Hookì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

## **ì •ë¦¬ê°€ í•„ìš”í•œ Effects**
---
ì •ë¦¬ê°€ í•„ìš”í•œ Effectì˜ ì˜ˆì‹œë¡œ, **ID ê¸°ì¤€ìœ¼ë¡œ** ì™¸ë¶€ ë°ì´í„°ì— êµ¬ë…í•˜ëŠ” ê²½ìš°ë¥¼ ë“¤ì–´ë³´ì. ì´ëŸ° ê²½ìš° ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¥¼ ë§‰ê¸° ìœ„í•´ êµ¬ë…ì„ í•´ì§€í•´ì¤˜ì•¼ í•œë‹¤.

ë§Œì•½ í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ë¡œ ì‘ì„±í•œë‹¤ë©´ ì´ëŸ° ì½”ë“œê°€ ì‘ì„±ë ê²ƒì´ë‹¤.

- componentDidMountì—ì„œ êµ¬ë…
- componentWillUnmountì—ì„œ êµ¬ë… í•´ì§€
- componentDidUpdateì—ì„œ ê¸°ì¡´ ID êµ¬ë… í•´ì§€ + ìƒˆ ID êµ¬ë…

êµ¬ë…ê³¼ êµ¬ë… í•´ì§€ëŠ” ê°™ì€ ë…¼ë¦¬ë¬¶ìŒ ì´ì§€ë§Œ, `componentDidMount`ì™€ `componentWillUnmountë¼`ëŠ” ë‹¤ë¥¸ ìƒëª…ì£¼ê¸°ì— ë‚˜ëˆ„ì–´ ì‘ì„±í•´ì•¼í•œë‹¤.

ë˜í•œ ë§Œì¼ IDê°’ì´ ë³€ê²½ëœë‹¤ë©´, state ë³€ê²½ ì—¬ë¶€ì— ë”°ë¥¸ ì¶©ëŒì„ ë§‰ê¸° ìœ„í•´ `componentDidUpdate` ì•ˆì—ì„œ ì²˜ë¦¬ë¥¼ í•´ì£¼ì–´ì•¼í•œë‹¤.

í•˜ì§€ë§Œ Effect Hookì„ ì‚¬ìš©í•œë‹¤ë©´?
```js
useEffect(() => {
    function handleStatusChange(status) {
        setIsOnline(status.isOnline);
    }

    ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange);
    // effect ì´í›„ì— ì–´ë–»ê²Œ ì •ë¦¬(clean-up)í•  ê²ƒì¸ì§€ í‘œì‹œí•©ë‹ˆë‹¤.
    return function cleanup() {
        ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange);
    };
});
```
êµ¬ë…ê³¼ í•´ì§€ ë¡œì§ì„ ê°€ê¹Œì´ì— ë¬¶ì„ ìˆ˜ ìˆê³ , ë§¤ ë Œë”ë§ë§ˆë‹¤ ë‹¤ë¥¸ í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ê¸° ë•Œë¬¸ì— stateì˜ ë³€ê²½ ì—¬ë¶€ë„ ì‹ ê²½ì“°ì§€ ì•Šì•„ë„ ëœë‹¤.